#!/bin/bash

# List of Pokémon to fetch data for
POKEMON_LIST=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")
API_URL="https://pokeapi.co/api/v2/pokemon"

# Function to fetch data for a Pokémon and save it to a JSON file
fetch_pokemon_data() {
    pokemon_name=$1
    json_file="${pokemon_name}.json"

    # Make API request and save the response to a JSON file
    curl -s "$API_URL/$pokemon_name" -o "$json_file"
    if [[ $? -eq 0 ]]; then
        echo "Data for $pokemon_name retrieved successfully."
    else
        echo "Failed to retrieve data for $pokemon_name."
    fi
}

# Start background processes for fetching data for each Pokémon
for pokemon in "${POKEMON_LIST[@]}"; do
    fetch_pokemon_data "$pokemon" &  # Run each fetch in the background
done

# Wait for all background processes to complete
wait

# Proceed with the next step after all data is fetched
echo "All Pokémon data fetched. Proceeding with further processing..."
